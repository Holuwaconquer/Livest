<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="index.css">
  <link rel="stylesheet" href="./bootstrap-5.3.3-dist/css/bootstrap.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Fascinate+Inline&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Bungee+Tint&family=Oswald:wght@200..700&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <script src="https://kit.fontawesome.com/e943f317aa.js" crossorigin="anonymous"></script>
  
  <style>
    .showDrop{
      display: block;
    }
  </style>
</head>
<body>
  <header>
    <video autoplay muted loop>
        <source src="./assets/7578541-uhd_3840_2160_30fps.mp4" type="video/mp4">
      </video>
    <div class="top-section">
      <div class="left-side">
        <h2 class="logo">livest</h2>
      </div>
      <div class="center-side">
        <a href="">Home</a>
        <a href="">Property</a>
        <a href="">Loan <i class="fa-solid fa-caret-down"></i></a>
        <a href="">About</a>
        <a href="">Contact</a>
      </div>
      <div class="right-side" id="loggedCheck"></div>
    </div>

    <div class="showcase">
      <div class="forBreadcumb">
        <!-- <nav aria-label="breadcrumb">
          <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="#">Home</a></li>
            <li class="breadcrumb-item active" aria-current="page">Library</li>
          </ol>
        </nav> -->
      </div>
      
      <h1>Find your perfect <br> investment properties</h1>
      <p>Explore a section of high-value real estate opportunities <br>
        designed for financial growth and stability
      </p>
    </div>
  </header>

  <main>
    <div class="filter-search p-5">
      <div class="row">
        <div class="col-md-4">
          <input class="form-control p-2" type="text" placeholder="Enter address", id="address">
        </div>
        <div class="col-md-4">
          <input class="form-control p-2" type="text" placeholder="Location" id="location">
        </div>
        <div class="col-md-4">
          <select class="form-select" name="propType" id="propType">
            <option selected>Property Type</option>
            <option value="DetachedDuplex">Semi Detached Duplex</option>
            <option value="Bungalow">Bungalow</option>
            <option value="FullyDuplex">Fully Detached Duplex</option>
          </select>
        </div>
      </div>
      <div class="searchBtn">
        <div class="mt-4 mx-auto">
          <button class="py-3 px-4 searchProp" id="searchProp">Search Property</button>
        </div>
      </div>
    </div>
  </main>


  <section class="py-5 my-5" id="mainPage">
    hello
  </section>
  <!-- Modal -->
  <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content py-3 px-4">
        <div class="modal-header">
          <h1></h1>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="top-text text-center my-3">
          <h3>Welcome to Livest</h3>
          <p>Our platform seamlessly connects real estate agents and 
            property owners with serious buyers, making transactions faster, easier, and more efficient. Sign up today to
            list, discover, and close deals effortlessly!
          </p>
        </div>
        <h6>Register</h6>
        <div class="goApp mt-3 d-flex text-center align-items-center justify-content-between">
          <button class="d-flex justify-content-center align-items-center w-50 btn"><img width="20" height="20" src="https://img.icons8.com/color/48/google-logo.png" alt="google-logo"/><span>Google</span></button>
          <button class="d-flex justify-content-center align-items-center w-50 btn w-50"><i class="fa-brands fa-apple"></i><span>Apple</span></button>
        </div>
        <button class="btn btn-login w-100 py-2 text-white my-4 text-center"><a href="signup.html">Register via Email and Password</a></button>
        <p class="text-center">Already have an account <a href="login.html">Sign in</a></p>
        <small class="text-center">By continuing you agree to the Policy and Rules</small>
      </div>
    </div>
  </div>



  <footer>
    <div class="footerNav row">
      <div class="col-md-4 stayConnect">
        <p>Stay connected, explore opportunities,
          and invest with confidence. Your real estate
          success starts here
        </p>
        <a href=""><i class="fa-brands fa-facebook-f"></i></a>
        <a href=""><i class="fa-brands fa-instagram"></i></a>
        <a href=""><i class="fa-brands fa-x-twitter"></i></a>
        <a href=""><i class="fa-brands fa-linkedin"></i></a>
      </div>
      <div class="centerLink d-flex flex-column align-items-end col-md-4">
        <ul>
          <li><a href="">Home</a></li>
          <li><a href="">Services</a></li>
          <li><a href="">Invest</a></li>
          <li><a href="">Properties</a></li>
        </ul>
        <p>All Rights Reserved 2024 | Livest</p>
      </div>
      <div class="rightLink d-flex flex-column align-items-end col-md-4">
        <ul>
          <li><a href="">About</a></li>
          <li><a href="">Contact</a></li>
          <li><a href="">Privacy Policy</a></li>
          <li><a href="">Terms & Conditions</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-logo">
      <h1>Livest</h1>
    </div>
  </footer>




  <script src="./bootstrap-5.3.3-dist/js/bootstrap.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-app.js";
    import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-auth.js";
    import { getDatabase, ref, set, onValue } from "https://www.gstatic.com/firebasejs/11.5.0/firebase-database.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries
  
    // Your web app's Firebase configuration
    const firebaseConfig = {
      apiKey: "AIzaSyASp595xhwD3gYSm_CfzivBe5hE0MtnA_o",
      authDomain: "livest-real-estate.firebaseapp.com",
      databaseURL: "https://livest-real-estate-default-rtdb.firebaseio.com",
      projectId: "livest-real-estate",
      storageBucket: "livest-real-estate.firebasestorage.app",
      messagingSenderId: "647434805745",
      appId: "1:647434805745:web:610c262a9968a1a6ac2450"
    };
  
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const database = getDatabase()
    let loggedCheck = document.getElementById('loggedCheck')
    let div = document.createElement('div')
    div.id = "dropDownBox"
    let userPic;
    onAuthStateChanged(auth, (user) => {
      if (user) {
        const userPhoto = user.photoURL || userPic
          // User is signed in
            loggedCheck.innerHTML=`
            <div style="position: relative; width: 50px; height: 50px; border-radius: 50%; background-color: blue;">
              <div id="dropDownParent" style="width: 100%; cursor: pointer; height: 100%; display: flex; align-items: center; justify-content: center; flex-direction: column;">
                <img width="100%" style="border-radius: 50%" src='${userPhoto}'>
                <i style="position: absolute; border-radius: 50%; bottom: 0; right: 0; padding: 3px; font-size: 1em; background-color: grey; color: white;" class="fa-solid fa-angle-down"></i>
              </div>
            </div>`
            div.innerHTML=`
            <div class="rounded-2 shadow p-3" style="display: none; position: absolute; top: 60px; right: 0; background: white; width: 200px; height: 200px">
                <p>Hello <strong> ${user.displayName}</strong> </p>
                <button>Dashboard</button>
                <p style="cursor: pointer">Log out</p>
              </div>
            `
            loggedCheck.appendChild(div)
            loggedCheck.addEventListener('mouseenter', ()=>{
              // div.classList.toggle('showDrop')
              div.style.display = "block"
              
            })
          console.log("User is signed in:", user);
      } else {
          // No user is signed in
          console.log("No user is signed in.");
          loggedCheck.innerHTML = `<a href="login.html">Login in</a><a data-bs-toggle="modal" data-bs-target="#staticBackdrop" href="">Join Now</a>`
          loggedCheck.firstChild.classList.add('login')
          loggedCheck.lastChild.classList.add('sign')
      }
    });
    const logOut = ()=>{
      alert('user is logged out')
        signOut(auth).then(() => {
          // Sign-out successful.
        }).catch((error) => {
          console.log(error);
        });
        // window.location.href = 'index.html'
    }
    document.getElementById('searchProp').addEventListener('click', ()=>{
      signOut(auth).then(() => {
          // Sign-out successful.
      }).catch((error) => {
          console.log(error);
      });
    })
    // let dropDownParent = document.getElementById('dropDownParent')
    let dropDownBox = document.getElementById('dropDownBox')
      // dropDownBox.classList.toggle('showDrop')
  </script>
</body>
</html>